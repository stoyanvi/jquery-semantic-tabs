/*
 * jQuery semanticTabs
 * Version 1.0
 *
 * jQuery Javascript plugin which convert any html list into a tabbed content.
 *
 * Copyright (c) 2013 Stoyan Ivanov
 *
 * Licensed under the MIT license:
 *   http://opensource.org/licenses/MIT
*/
(function(a){a.semanticTabs=function(d,f){var l={prefixClass:"tabs-",headingTag:"h3",startTab:1,easeDuration:200,firstChildClass:"first-child",lastChildClass:"last-child"};var h=this;h.settings={};var m=a(d),d=d,b,q,c,j,e,k,p,r,s,i;h.init=function(){h.settings=a.extend({},l,f);m.hide();b=m.children();i=d.substring(1,d.length);if(a("#"+h.settings.prefixClass+i).length>0){console.log("Error: #"+h.settings.prefixClass+i+" already exist");return false}else{o()}};var g=function(t,w,u){var v=document.createElement(t);if(w){v.className=w}if(u){v.style.cssText=u}return a(v)};var o=function(){q=g("div").attr("id",h.settings.prefixClass+i).insertBefore(m);c=g("ul",h.settings.prefixClass+"links "+h.settings.prefixClass+"links-"+b.length).appendTo(q);j=g("div",h.settings.prefixClass+"content-wrapper").appendTo(q);b.find(h.settings.headingTag).each(function(t){e=g("li").appendTo(c);k=g("a",h.settings.prefixClass+"anchor "+h.settings.prefixClass+"anchor-0"+(t+1)).attr("href","#"+i+"-item-0"+(t+1)).appendTo(e).text(a(this).text());if(t==0){k.parent().addClass(h.settings.firstChildClass)}else{if(t==b.length-1){k.parent().addClass(h.settings.lastChildClass)}}p=g("div",h.settings.prefixClass+"content").attr("id",i+"-item-0"+(t+1)).appendTo(j).hide();r=c.find("."+h.settings.prefixClass+"anchor-0"+h.settings.startTab).addClass("active");s=a("#"+i+"-item-0"+h.settings.startTab).show();var u=a(this).parent().html();p.html(u);p.find(h.settings.headingTag).remove();if(a.browser.msie&&a.browser.version<9){p.children().last().css("margin-bottom","0")}s.parent().height(s.outerHeight(true))});a(window).bind("resize",function(){s.parent().height(s.outerHeight(true))});c.find("."+h.settings.prefixClass+"anchor").bind("click",n)};var n=function(v){v.preventDefault();if(!a(this).hasClass("active")){c.find("."+h.settings.prefixClass+"anchor").unbind().bind("click",function(w){w.preventDefault()});r.addClass("prev-active");r=a(this);var u=a(this).attr("href"),t=a(u).show().outerHeight(true);a(u).hide();s.fadeOut(h.settings.easeDuration,function(){a(u).parent().animate({height:t},h.settings.easeDuration*1.5,function(){s=a(u).fadeIn(h.settings.easeDuration);c.find(".prev-active").removeClass("active prev-active");r.addClass("active");c.find("."+h.settings.prefixClass+"anchor").unbind().bind("click",n)})})}};h.destroy=function(){a("#"+h.settings.prefixClass+i).remove();m.show()};h.init()};a.fn.semanticTabs=function(b){return this.each(function(){if(undefined==a(this).data("semanticTabs")){var c=new a.semanticTabs(this,b);a(this).data("semanticTabs",c)}})}})(jQuery);