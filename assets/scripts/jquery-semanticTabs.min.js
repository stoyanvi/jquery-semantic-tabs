(function(a){a.semanticTabs=function(d,f){var m={prefixClass:"tabs-",headingTag:"h3",startTab:1,easeDuration:200,firstChildClass:"first-child",lastChildClass:"last-child",tabContentMarginBottom:24};var h=this;h.settings={};var n=a(d),d=d,b,r,c,j,e,l,q,s,t,i,k;h.init=function(){h.settings=a.extend({},m,f);n.hide();b=n.children();i=d.substring(1,d.length);if(a("#"+h.settings.prefixClass+i).length>0){console.log("Error: #"+h.settings.prefixClass+i+" already exist");return false}else{p()}};var g=function(u,x,v){var w=document.createElement(u);if(x){w.className=x}if(v){w.style.cssText=v}return a(w)};var p=function(){r=g("div").attr("id",h.settings.prefixClass+i).insertBefore(n);c=g("ul",h.settings.prefixClass+"links "+h.settings.prefixClass+"links-"+b.length).appendTo(r);j=g("div",h.settings.prefixClass+"content-wrapper").appendTo(r);b.find(h.settings.headingTag).each(function(u){e=g("li").appendTo(c);l=g("a",h.settings.prefixClass+"anchor "+h.settings.prefixClass+"anchor-0"+(u+1)).attr("href","#"+i+"-item-0"+(u+1)).appendTo(e).text(a(this).text());if(u==0){l.parent().addClass(h.settings.firstChildClass)}else{if(u==b.length-1){l.parent().addClass(h.settings.lastChildClass)}}q=g("div",h.settings.prefixClass+"content").attr("id",i+"-item-0"+(u+1)).appendTo(j).hide();s=c.find("."+h.settings.prefixClass+"anchor-0"+h.settings.startTab).addClass("active");t=a("#"+i+"-item-0"+h.settings.startTab).show();var v=a(this).parent().html();q.html(v);q.find(h.settings.headingTag).remove();t.parent().height(t.outerHeight(true)+k);k=h.settings.tabContentMarginBottom});a(window).bind("resize",function(){t.parent().height(t.outerHeight(true)+k)});c.find("."+h.settings.prefixClass+"anchor").bind("click",o)};var o=function(w){w.preventDefault();if(!a(this).hasClass("active")){s.removeClass("active");s=a(this);var v=a(this).attr("href");if(a.browser.msie&&a.browser.version.substr(0,1)<=7){var u=a(v).outerHeight(true)}else{var u=a(v).outerHeight(true)+k-3}t.fadeOut(h.settings.easeDuration,function(){a(v).parent().animate({height:u},h.settings.easeDuration*1.5,function(){a(v).parent().css("overflow","visible");t=a(v).fadeIn(h.settings.easeDuration);s.addClass("active")})})}};h.destroy=function(){a("#"+h.settings.prefixClass+i).remove();n.show()};h.init()};a.fn.semanticTabs=function(b){return this.each(function(){if(undefined==a(this).data("semanticTabs")){var c=new a.semanticTabs(this,b);a(this).data("semanticTabs",c)}})}})(jQuery);